<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form name ="birth" action="test.jsp">
        <input type="text" name="jumin" id="jumin" value="" placeholder="ex>주민번호 앞자리 입력 201101-3">
        <button name="btn">앞자리 확인</button>
        <input type="submit" value="전송">
    </form>

    <p><a id="linkNaver" href="https://www.naver.com"></a></p>
    <!--input[type="button"] == button == input[type="submit"]-->
    <script>

        
        var aTag = document.querySelector("#linkNaver");
        //이벤트에 관련된 모든 함수들은 매개변수 (파라미터)로 이벤트 객체를 가질 수 있다.
        //이벤트 객체는 javascript에서 제공을 한다.
        //요소객체.onclick=funcntion (e){}, 요소객체. addEventListener("이벤트명, function(e){}")
        //매개변수의 이름은 중요하지 않으며 대체로 e 또는 event라고 사용한다.
        //다만 javascript에서 제공은 하지만, 작성자가 매개변수를 쓸수 도 있고 안 쓸수도 있다.
        //이벤트 객체는 이벤트가 일어난 위치, 이벤트가 발생한 요소, 이벤트 종류 등을 사용하며, 이벤트를 막을 수도 있다.


        // aTag.addEventListener("click",function(e){
        //     e.preventDefault(); //원래 갖고있는 이벤트를 막는다.
        //     window.location.href = "http://www.daum.net";
        // });

        //button을 클릭하면 alert 2020년 11월 01일생이 나오게 작성하시오.


        //#1
        //form요소의 name값은 document객체에서 바로 속석으로 접근가능
        //input 요소가 form 내부에 존재할 때 name값을 
        //form의 name값의 속성으로 존재한다.

        document.birth.btn.addEventListener("click",function(e){
            e.preventDefault();
            //원래 가지고 있는 이벤트를 활성화를 삭제
            //alert("클릭");
            var juminN = document.birth.jumin.value;
            if(juminN != ""){

                if(juminN.indexOf("-" != -1)){

                    var numberJ = juminN.replace("-",""); // 새로운 값 return

                    if(!isNaN(NumberJ*1)){//숫자인지 판별
                        
                        var genderN = numberJ.charAt(6);

                        var year = "";
                        var month = "";
                        var date = "";

                        if(genderN == "1" || genderN == "2"){
                            year =  19+genderN.substr(0,2);
                        }else if(genderN == "3" || genderN == "4"){
                            year =  20+genderN.substr(0,2);
                        }


                        month = genderN.substr(2,2);
                        date = genderN.substr(4,2);
                        alert("당신은"+year+"년"+month+"월 /"+date+"일생입니다.");
                    }else{
                        alert("주민번호에 해당하는 숫자를 입력하시오");
                    }
                }else{
                    alert("주어진 힌트값대로 입력하시오. ex)201103-1");
                }
              
            }else{
                alert("값을 입력하시오");
            }
        });
        

    </script>
</body>
</html>